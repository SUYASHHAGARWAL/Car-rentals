
<html>

<head>
    <link rel="stylesheet" href="/static/css/Index2.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css"/>
    <!-- datetimepicker jQuery CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js"></script>
    <script src="/static/uservehicle.js"></script>
    
</head>

<body>
    <div class="maincontainer">
        <div class="appbar">
            <img src="/static/Logo1.png" width="48" height="40" style="margin-left: 8%; margin-top: 1%;">
            <div style="display: flex; justify-content: center; width: 800px; font-family: poppins; font-size: 16px; margin-top: 20px;">  <b>Duration   &nbsp; &nbsp;  </b>  {{ userdata.dys}} days and {{userdata.hrs}} hours&nbsp;&nbsp;&nbsp;&nbsp; <b>Driver Preference  &nbsp;</b>   {{userdata.option}} </div>

          
            <div style="width: 30%; height: 65%; margin-left: 10%; margin-top: 0.5%;">
                <div style="display: flex; flex-direction: row;">
                    <div class="boxleft" style=" background: #ecf0f1;" data-toggle="modal" data-target="#myModal">
                        <i class="fa-solid fa-location-dot fa-sm" style="width: 10%; color: #778ca3; margin-top: 19%; margin-left: 4%;"></i>
                        <input class="textStyle" style="background: #ecf0f1;" type="text" id="dcity" value="{{userdata.city}}" placeholder="Select City..."/>
                    </div>
                    <div class="middlebox" style="background: #ecf0f1;">
                        <span style="font-size:12; margin-left: 6%;">Start Time</span>
                        <input type="text" style="margin-top: 1%; width: 100%; border: none; outline: none; background: #ecf0f1; font-weight: bold; font-size: 15;" name="startdate" id="startdate" value="{{userdata.startdate}}" class="datetimepicker datetextstyle" placeholder="Start Date">
                    </div>
                    <div class="boxright" style="background: #ecf0f1;">
                        <span style="font-size:12; margin-left: 6%;">End Time</span>
                        <input type="text" style="margin-top: 1%; width: 100%; background: #ecf0f1; border: none; outline: none; font-weight: bold; font-size: 15;" name="enddate" id="enddate" value="{{userdata.enddate}}" class="datetimepicker datetextstyle" placeholder="End Date">
                    </div>
                </div>
            </div>
            <input value="{{userdata.days}}" type="hidden" id="dh" />
            <div id="btn" class="button_style">
                <div style="display: flex; align-items: center; font-size: 15; color: #fff; font-weight: bold;">Update</div>
            </div>
          
            <div style="margin-left: auto;  width: 17%; display: flex; align-items: center;">
                <!-- <i style="font-size: 30; margin-right: 4%;" class="fa-solid fa-right-to-bracket"></i> -->
                <!-- <span style="margin-right: 5%;">Login & SignUp</span> -->
            </div>
        </div>
        <div class="maintab">
            <div class="leftsidebar">
                <div>
                    <div style=" display: flex;">
                        <label for="categoryname" class="form-label labelstyle">Filter</label>
                        <!-- <label for="categoryname" class="form-label"
                            style="font-size: 15; font-family: Poppins; justify-content: end; margin-top: 6%; margin-left: 30%; color: #b1bfc1;">clear
                            All</label> -->
                    </div>

                    <div>
                        <label for="categoryname" class="form-label labelstyle">Brand</label>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="brand form-check-input" type="checkbox" value="Maruti" >
                                <label class="form-check-label" for="flexCheckDefault">
                                    Maruti
                                </label>
                            </div>
                        </div>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="brand form-check-input" type="checkbox" value="Hyundai">
                                <label class="form-check-label" for="flexCheckDefault">
                                    Hyundai
                                </label>
                            </div>
                        </div>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="brand form-check-input" type="checkbox" value="Mahindra" >
                                <label class="form-check-label" for="flexCheckDefault">
                                    Mahindra
                                </label>
                            </div>
                        </div>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="brand form-check-input" type="checkbox" value="Tata" >
                                <label class="form-check-label" for="flexCheckDefault">
                                    Tata
                                </label>
                            </div>
                        </div>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="brand form-check-input" type="checkbox" value="Toyota" >
                                <label class="form-check-label" for="flexCheckDefault">
                                    Toyota
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label for="categoryname" class="form-label labelstyle">Fuel Type</label>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="fuel form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">
                                    Petrol
                                </label>
                            </div>
                        </div>
                        <div class="checkstyle">
                            <div class="form-check">
                                <input class="fuel form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">
                                    Diesel
                                </label>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
         
            <div id="listvehicle" style="width: 100%; display: flex; flex-wrap: wrap; height: fit-content; ">
                
                
            </div>

        </div>
        
    </div>


    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
  
            <!-- Modal Header -->
            <div class="modal-header"  class="close" data-dismiss="modal">
                <h4 class="modal-title">Select City</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
    
            <!-- Modal body -->
            <div class="modal-body"  class="close" data-dismiss="modal">
                <h4 class="city" scity="New Delhi">New Delhi</h4>
              <h4 class="city" scity="Gwalior">Gwalior</h4>
              <h4 class="city" scity="Pune">Pune</h4>
              <h4 class="city" scity="Indore">Indore</h4>
              <h4 class="city" scity="Noida">Noida</h4>
              <h4 class="city" scity="jhansi">jhansi</h4>
              <h4 class="city" scity="mumbai">mumbai</h4>    
    
            </div>  
        </div>
    </div>
</body>
<script>
    $(document).ready(function(){
        $('.city').click(function(){
            $('#dcity').val($(this).attr('scity'))
            $('#car_heading').html(`Car rental in ${$(this).attr('scity')}`)
        });
        $(".datetimepicker").each(function(){
            $(this).datetimepicker();
        });
        $('#enddate').change(function(){
            const date1 = new Date($('#startdate').val());
            const date2 = new Date($('#enddate').val());
            $('#dh').val();

            const diffTime = Math.abs(date2 - date1);
            S=parseInt(diffTime/1000)
            M=parseInt(S/60)
            H=parseInt(M/60)
            D=parseInt(H/24)
            H=H%24
            const diffDays = parseInt(diffTime / (1000*60*60*24))
            $('#car_time').html("Duration: "+diffDays+" Days and  "+H+" Hours");
            $('#dh').val(diffDays+":"+H);
            
        })
        $('#btn').click(function(){
            // alert($('#dh').val())
            $.getJSON('/api/modifyindex2',{city:$('#dcity').val(),startdate:$('#startdate').val(),enddate:$('#enddate').val(),days:$('#dh').val()},function(data){
                window.location.href="/api/twoindex"
            })
            
        })
    })
</script>

</html>